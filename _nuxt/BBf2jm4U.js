import{_ as yt}from"./xUCWT4ti.js";import{V as Xe,a as ye}from"./DI0UOvBy.js";import{V as ht}from"./C5S3eOjg.js";import{m as Ke,a as bt,u as Ce}from"./BIxPzWjx.js";import{m as xt,a as _t,V as ne,p as Fe,f as he,b as be,c as Ie,g as Ne,d as wt,e as St,u as pt,h as kt,i as Et,M as Ot,j as Ct,k as ue,l as Pt}from"./B5gUci7b.js";import{G as Ze,H as Je,I as U,J as He,K as Qe,L as Pe,M as At,N as et,O as Ae,q as b,P as pe,Q as Lt,R as X,S as tt,b as u,F as ae,T as R,d as G,r as F,x as me,o as D,y as oe,w as E,a as z,t as J,A,U as K,V as Le,h as I,W as j,X as Tt,Y as Te,Z as W,f as Ve,$ as nt,a0 as Vt,a1 as Be,a2 as ot,a3 as $e,a4 as Bt,a5 as Mt,a6 as at,a7 as Rt,a8 as Ft,a9 as It,aa as Nt,ab as Ht,j as $t,ac as Dt,ad as lt,ae as it,af as Wt,ag as zt,ah as qt,ai as fe,aj as ke,u as jt,ak as Ut,s as Yt,v as Gt,c as ee,z as Xt,C as De}from"./BoTlWyL5.js";import{V as le}from"./BvU3gaA3.js";import{_ as Kt}from"./C3mpo5A3.js";import{g as Zt,B as xe,a as We,n as Jt,b as Qt,s as en,f as tn}from"./DmRohq2Y.js";import{d as nn}from"./P4nmuCoM.js";import{V as on}from"./B95v2X7T.js";import"./BSJbmbWf.js";import"./CZkWyHgl.js";import"./DlAUqK2U.js";const se=new WeakMap;function an(e,n){Object.keys(n).forEach(t=>{if(Ze(t)){const o=Je(t),l=se.get(e);if(n[t]==null)l==null||l.forEach(a=>{const[i,r]=a;i===o&&(e.removeEventListener(o,r),l.delete(a))});else if(!l||![...l].some(a=>a[0]===o&&a[1]===n[t])){e.addEventListener(o,n[t]);const a=l||new Set;a.add([o,n[t]]),se.has(e)||se.set(e,a)}}else n[t]==null?e.removeAttribute(t):e.setAttribute(t,n[t])})}function ln(e,n){Object.keys(n).forEach(t=>{if(Ze(t)){const o=Je(t),l=se.get(e);l==null||l.forEach(a=>{const[i,r]=a;i===o&&(e.removeEventListener(o,r),l.delete(a))})}else e.removeAttribute(t)})}function rt(e){if(typeof e.getRootNode!="function"){for(;e.parentNode;)e=e.parentNode;return e!==document?null:document}const n=e.getRootNode();return n!==document&&n.getRootNode({composed:!0})!==document?null:n}function rn(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;for(;e;){if(n?sn(e):Me(e))return e;e=e.parentElement}return document.scrollingElement}function de(e,n){const t=[];if(n&&e&&!n.contains(e))return t;for(;e&&(Me(e)&&t.push(e),e!==n);)e=e.parentElement;return t}function Me(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return n.overflowY==="scroll"||n.overflowY==="auto"&&e.scrollHeight>e.clientHeight}function sn(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return!1;const n=window.getComputedStyle(e);return["scroll","auto"].includes(n.overflowY)}function cn(e){for(;e;){if(window.getComputedStyle(e).position==="fixed")return!0;e=e.offsetParent}return!1}const un=U({name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:He,default:"$ratingEmpty"},fullIcon:{type:He,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...Ke(),...xt(),..._t(),...bt(),...Qe()},"VRating"),fn=Pe()({name:"VRating",props:un(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const{t:o}=At(),{themeClasses:l}=et(e),a=Ae(e,"modelValue"),i=b(()=>pe(parseFloat(a.value),0,+e.length)),r=b(()=>Lt(Number(e.length),1)),m=b(()=>r.value.flatMap(s=>e.halfIncrements?[s-.5,s]:[s])),f=X(-1),h=b(()=>m.value.map(s=>{const v=e.hover&&f.value>-1,_=i.value>=s,y=f.value>=s,T=(v?y:_)?e.fullIcon:e.emptyIcon,B=e.activeColor??e.color,C=_||y?B:e.color;return{isFilled:_,isHovered:y,icon:T,color:C}})),g=b(()=>[0,...m.value].map(s=>{function v(){f.value=s}function _(){f.value=-1}function y(){e.disabled||e.readonly||(a.value=i.value===s&&e.clearable?0:s)}return{onMouseenter:e.hover?v:void 0,onMouseleave:e.hover?_:void 0,onClick:y}})),w=b(()=>e.name??`v-rating-${tt()}`);function x(s){var V,Z;let{value:v,index:_,showStar:y=!0}=s;const{onMouseenter:k,onMouseleave:T,onClick:B}=g.value[_+1],C=`${w.value}-${String(v).replace(".","-")}`,c={color:(V=h.value[_])==null?void 0:V.color,density:e.density,disabled:e.disabled,icon:(Z=h.value[_])==null?void 0:Z.icon,ripple:e.ripple,size:e.size,variant:"plain"};return u(ae,null,[u("label",{for:C,class:{"v-rating__item--half":e.halfIncrements&&v%1>0,"v-rating__item--full":e.halfIncrements&&v%1===0},onMouseenter:k,onMouseleave:T,onClick:B},[u("span",{class:"v-rating__hidden"},[o(e.itemAriaLabel,v,e.length)]),y?t.item?t.item({...h.value[_],props:c,value:v,index:_,rating:i.value}):u(le,R({"aria-label":o(e.itemAriaLabel,v,e.length)},c),null):void 0]),u("input",{class:"v-rating__hidden",name:w.value,id:C,type:"radio",value:v,checked:i.value===v,tabindex:-1,readonly:e.readonly,disabled:e.disabled},null)])}function d(s){return t["item-label"]?t["item-label"](s):s.label?u("span",null,[s.label]):u("span",null,[G("Â ")])}return Ce(()=>{var v;const s=!!((v=e.itemLabels)!=null&&v.length)||t["item-label"];return u(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},l.value,e.class],style:e.style},{default:()=>[u(x,{value:0,index:-1,showStar:!1},null),r.value.map((_,y)=>{var k,T;return u("div",{class:"v-rating__wrapper"},[s&&e.itemLabelPosition==="top"?d({value:_,index:y,label:(k=e.itemLabels)==null?void 0:k[y]}):void 0,u("div",{class:"v-rating__item"},[e.halfIncrements?u(ae,null,[u(x,{value:_-.5,index:y*2},null),u(x,{value:_,index:y*2+1},null)]):u(x,{value:_,index:y},null)]),s&&e.itemLabelPosition==="bottom"?d({value:_,index:y,label:(T=e.itemLabels)==null?void 0:T[y]}):void 0])})]})}),{}}}),dn={class:"white--text text-h4 ma-0"},vn={__name:"LocationHeader",props:["location"],setup(e){const n=e,t=b(()=>n.location);return F(me()),(o,l)=>{const a=yt;return D(),oe(ne,{dark:"",class:"pa-4 mx-2",style:{height:"48px"}},{default:E(()=>[u(Xe,{class:"align-center"},{default:E(()=>[z("p",dn,J(A(t).title),1),u(ht),u(a,null,{default:E(()=>[u(fn,{modelValue:A(t).rating,"onUpdate:modelValue":l[0]||(l[0]=i=>A(t).rating=i),color:"red","half-increments":"","background-color":"grey","empty-icon":"mdi-heart-outline","half-icon":"mdi-heart-half-full","full-icon":"mdi-heart",class:"mx-3",readonly:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})}}},mn=vn;function _e(e,n){return{x:e.x+n.x,y:e.y+n.y}}function gn(e,n){return{x:e.x-n.x,y:e.y-n.y}}function ze(e,n){if(e.side==="top"||e.side==="bottom"){const{side:t,align:o}=e,l=o==="left"?0:o==="center"?n.width/2:o==="right"?n.width:o,a=t==="top"?0:t==="bottom"?n.height:t;return _e({x:l,y:a},n)}else if(e.side==="left"||e.side==="right"){const{side:t,align:o}=e,l=t==="left"?0:t==="right"?n.width:t,a=o==="top"?0:o==="center"?n.height/2:o==="bottom"?n.height:o;return _e({x:l,y:a},n)}return _e({x:n.width/2,y:n.height/2},n)}const st={static:bn,connected:_n},yn=U({locationStrategy:{type:[String,Function],default:"static",validator:e=>typeof e=="function"||e in st},location:{type:String,default:"bottom"},origin:{type:String,default:"auto"},offset:[Number,String,Array]},"VOverlay-location-strategies");function hn(e,n){const t=F({}),o=F();K&&Le(()=>!!(n.isActive.value&&e.locationStrategy),a=>{var i,r;I(()=>e.locationStrategy,a),j(()=>{window.removeEventListener("resize",l),o.value=void 0}),window.addEventListener("resize",l,{passive:!0}),typeof e.locationStrategy=="function"?o.value=(i=e.locationStrategy(n,e,t))==null?void 0:i.updateLocation:o.value=(r=st[e.locationStrategy](n,e,t))==null?void 0:r.updateLocation});function l(a){var i;(i=o.value)==null||i.call(o,a)}return{contentStyles:t,updateLocation:o}}function bn(){}function xn(e,n){n?e.style.removeProperty("left"):e.style.removeProperty("right");const t=Jt(e);return n?t.x+=parseFloat(e.style.right||0):t.x-=parseFloat(e.style.left||0),t.y-=parseFloat(e.style.top||0),t}function _n(e,n,t){(Array.isArray(e.target.value)||cn(e.target.value))&&Object.assign(t.value,{position:"fixed",top:0,[e.isRtl.value?"right":"left"]:0});const{preferredAnchor:l,preferredOrigin:a}=Tt(()=>{const d=Fe(n.location,e.isRtl.value),s=n.origin==="overlap"?d:n.origin==="auto"?he(d):Fe(n.origin,e.isRtl.value);return d.side===s.side&&d.align===be(s).align?{preferredAnchor:Ie(d),preferredOrigin:Ie(s)}:{preferredAnchor:d,preferredOrigin:s}}),[i,r,m,f]=["minWidth","minHeight","maxWidth","maxHeight"].map(d=>b(()=>{const s=parseFloat(n[d]);return isNaN(s)?1/0:s})),h=b(()=>{if(Array.isArray(n.offset))return n.offset;if(typeof n.offset=="string"){const d=n.offset.split(" ").map(parseFloat);return d.length<2&&d.push(0),d}return typeof n.offset=="number"?[n.offset,0]:[0,0]});let g=!1;const w=new ResizeObserver(()=>{g&&x()});I([e.target,e.contentEl],(d,s)=>{let[v,_]=d,[y,k]=s;y&&!Array.isArray(y)&&w.unobserve(y),v&&!Array.isArray(v)&&w.observe(v),k&&w.unobserve(k),_&&w.observe(_)},{immediate:!0}),j(()=>{w.disconnect()});function x(){if(g=!1,requestAnimationFrame(()=>g=!0),!e.target.value||!e.contentEl.value)return;const d=Zt(e.target.value),s=xn(e.contentEl.value,e.isRtl.value),v=de(e.contentEl.value),_=12;v.length||(v.push(document.documentElement),e.contentEl.value.style.top&&e.contentEl.value.style.left||(s.x-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-x")||0),s.y-=parseFloat(document.documentElement.style.getPropertyValue("--v-body-scroll-y")||0)));const y=v.reduce((L,O)=>{const S=O.getBoundingClientRect(),p=new xe({x:O===document.documentElement?0:S.x,y:O===document.documentElement?0:S.y,width:O.clientWidth,height:O.clientHeight});return L?new xe({x:Math.max(L.left,p.left),y:Math.max(L.top,p.top),width:Math.min(L.right,p.right)-Math.max(L.left,p.left),height:Math.min(L.bottom,p.bottom)-Math.max(L.top,p.top)}):p},void 0);y.x+=_,y.y+=_,y.width-=_*2,y.height-=_*2;let k={anchor:l.value,origin:a.value};function T(L){const O=new xe(s),S=ze(L.anchor,d),p=ze(L.origin,O);let{x:H,y:N}=gn(S,p);switch(L.anchor.side){case"top":N-=h.value[0];break;case"bottom":N+=h.value[0];break;case"left":H-=h.value[0];break;case"right":H+=h.value[0];break}switch(L.anchor.align){case"top":N-=h.value[1];break;case"bottom":N+=h.value[1];break;case"left":H-=h.value[1];break;case"right":H+=h.value[1];break}return O.x+=H,O.y+=N,O.width=Math.min(O.width,m.value),O.height=Math.min(O.height,f.value),{overflows:We(O,y),x:H,y:N}}let B=0,C=0;const c={x:0,y:0},V={x:!1,y:!1};let Z=-1;for(;!(Z++>10);){const{x:L,y:O,overflows:S}=T(k);B+=L,C+=O,s.x+=L,s.y+=O;{const p=Ne(k.anchor),H=S.x.before||S.x.after,N=S.y.before||S.y.after;let Q=!1;if(["x","y"].forEach(M=>{if(M==="x"&&H&&!V.x||M==="y"&&N&&!V.y){const $={anchor:{...k.anchor},origin:{...k.origin}},ie=M==="x"?p==="y"?be:he:p==="y"?he:be;$.anchor=ie($.anchor),$.origin=ie($.origin);const{overflows:Y}=T($);(Y[M].before<=S[M].before&&Y[M].after<=S[M].after||Y[M].before+Y[M].after<(S[M].before+S[M].after)/2)&&(k=$,Q=V[M]=!0)}}),Q)continue}S.x.before&&(B+=S.x.before,s.x+=S.x.before),S.x.after&&(B-=S.x.after,s.x-=S.x.after),S.y.before&&(C+=S.y.before,s.y+=S.y.before),S.y.after&&(C-=S.y.after,s.y-=S.y.after);{const p=We(s,y);c.x=y.width-p.x.before-p.x.after,c.y=y.height-p.y.before-p.y.after,B+=p.x.before,s.x+=p.x.before,C+=p.y.before,s.y+=p.y.before}break}const ge=Ne(k.anchor);return Object.assign(t.value,{"--v-overlay-anchor-origin":`${k.anchor.side} ${k.anchor.align}`,transformOrigin:`${k.origin.side} ${k.origin.align}`,top:W(we(C)),left:e.isRtl.value?void 0:W(we(B)),right:e.isRtl.value?W(we(-B)):void 0,minWidth:W(ge==="y"?Math.min(i.value,d.width):i.value),maxWidth:W(qe(pe(c.x,i.value===1/0?0:i.value,m.value))),maxHeight:W(qe(pe(c.y,r.value===1/0?0:r.value,f.value)))}),{available:c,contentBox:s}}return I(()=>[l.value,a.value,n.offset,n.minWidth,n.minHeight,n.maxWidth,n.maxHeight],()=>x()),Te(()=>{const d=x();if(!d)return;const{available:s,contentBox:v}=d;v.height>s.y&&requestAnimationFrame(()=>{x(),requestAnimationFrame(()=>{x()})})}),{updateLocation:x}}function we(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}function qe(e){return Math.ceil(e*devicePixelRatio)/devicePixelRatio}let Ee=!0;const ve=[];function wn(e){!Ee||ve.length?(ve.push(e),Oe()):(Ee=!1,e(),Oe())}let je=-1;function Oe(){cancelAnimationFrame(je),je=requestAnimationFrame(()=>{const e=ve.shift();e&&e(),ve.length?Oe():Ee=!0})}const ce={none:null,close:kn,block:En,reposition:On},Sn=U({scrollStrategy:{type:[String,Function],default:"block",validator:e=>typeof e=="function"||e in ce}},"VOverlay-scroll-strategies");function pn(e,n){if(!K)return;let t;Ve(async()=>{t==null||t.stop(),n.isActive.value&&e.scrollStrategy&&(t=nt(),await new Promise(o=>setTimeout(o)),t.active&&t.run(()=>{var o;typeof e.scrollStrategy=="function"?e.scrollStrategy(n,e,t):(o=ce[e.scrollStrategy])==null||o.call(ce,n,e,t)}))}),j(()=>{t==null||t.stop()})}function kn(e){function n(t){e.isActive.value=!1}ct(e.targetEl.value??e.contentEl.value,n)}function En(e,n){var i;const t=(i=e.root.value)==null?void 0:i.offsetParent,o=[...new Set([...de(e.targetEl.value,n.contained?t:void 0),...de(e.contentEl.value,n.contained?t:void 0)])].filter(r=>!r.classList.contains("v-overlay-scroll-blocked")),l=window.innerWidth-document.documentElement.offsetWidth,a=(r=>Me(r)&&r)(t||document.documentElement);a&&e.root.value.classList.add("v-overlay--scroll-blocked"),o.forEach((r,m)=>{r.style.setProperty("--v-body-scroll-x",W(-r.scrollLeft)),r.style.setProperty("--v-body-scroll-y",W(-r.scrollTop)),r!==document.documentElement&&r.style.setProperty("--v-scrollbar-offset",W(l)),r.classList.add("v-overlay-scroll-blocked")}),j(()=>{o.forEach((r,m)=>{const f=parseFloat(r.style.getPropertyValue("--v-body-scroll-x")),h=parseFloat(r.style.getPropertyValue("--v-body-scroll-y")),g=r.style.scrollBehavior;r.style.scrollBehavior="auto",r.style.removeProperty("--v-body-scroll-x"),r.style.removeProperty("--v-body-scroll-y"),r.style.removeProperty("--v-scrollbar-offset"),r.classList.remove("v-overlay-scroll-blocked"),r.scrollLeft=-f,r.scrollTop=-h,r.style.scrollBehavior=g}),a&&e.root.value.classList.remove("v-overlay--scroll-blocked")})}function On(e,n,t){let o=!1,l=-1,a=-1;function i(r){wn(()=>{var h,g;const m=performance.now();(g=(h=e.updateLocation).value)==null||g.call(h,r),o=(performance.now()-m)/(1e3/60)>2})}a=(typeof requestIdleCallback>"u"?r=>r():requestIdleCallback)(()=>{t.run(()=>{ct(e.targetEl.value??e.contentEl.value,r=>{o?(cancelAnimationFrame(l),l=requestAnimationFrame(()=>{l=requestAnimationFrame(()=>{i(r)})})):i(r)})})}),j(()=>{typeof cancelIdleCallback<"u"&&cancelIdleCallback(a),cancelAnimationFrame(l)})}function ct(e,n){const t=[document,...de(e)];t.forEach(o=>{o.addEventListener("scroll",n,{passive:!0})}),j(()=>{t.forEach(o=>{o.removeEventListener("scroll",n)})})}const Cn=Symbol.for("vuetify:v-menu"),Pn=U({closeDelay:[Number,String],openDelay:[Number,String]},"delay");function An(e,n){let t=()=>{};function o(i){t==null||t();const r=Number(i?e.openDelay:e.closeDelay);return new Promise(m=>{t=Vt(r,()=>{n==null||n(i),m(i)})})}function l(){return o(!0)}function a(){return o(!1)}return{clearDelay:t,runOpenDelay:l,runCloseDelay:a}}const Ln=U({target:[String,Object],activator:[String,Object],activatorProps:{type:Object,default:()=>({})},openOnClick:{type:Boolean,default:void 0},openOnHover:Boolean,openOnFocus:{type:Boolean,default:void 0},closeOnContentClick:Boolean,...Pn()},"VOverlay-activator");function Tn(e,n){let{isActive:t,isTop:o}=n;const l=Be("useActivator"),a=F();let i=!1,r=!1,m=!0;const f=b(()=>e.openOnFocus||e.openOnFocus==null&&e.openOnHover),h=b(()=>e.openOnClick||e.openOnClick==null&&!e.openOnHover&&!f.value),{runOpenDelay:g,runCloseDelay:w}=An(e,c=>{c===(e.openOnHover&&i||f.value&&r)&&!(e.openOnHover&&t.value&&!o.value)&&(t.value!==c&&(m=!0),t.value=c)}),x=F(),d={onClick:c=>{c.stopPropagation(),a.value=c.currentTarget||c.target,t.value||(x.value=[c.clientX,c.clientY]),t.value=!t.value},onMouseenter:c=>{var V;(V=c.sourceCapabilities)!=null&&V.firesTouchEvents||(i=!0,a.value=c.currentTarget||c.target,g())},onMouseleave:c=>{i=!1,w()},onFocus:c=>{Bt(c.target,":focus-visible")!==!1&&(r=!0,c.stopPropagation(),a.value=c.currentTarget||c.target,g())},onBlur:c=>{r=!1,c.stopPropagation(),w()}},s=b(()=>{const c={};return h.value&&(c.onClick=d.onClick),e.openOnHover&&(c.onMouseenter=d.onMouseenter,c.onMouseleave=d.onMouseleave),f.value&&(c.onFocus=d.onFocus,c.onBlur=d.onBlur),c}),v=b(()=>{const c={};if(e.openOnHover&&(c.onMouseenter=()=>{i=!0,g()},c.onMouseleave=()=>{i=!1,w()}),f.value&&(c.onFocusin=()=>{r=!0,g()},c.onFocusout=()=>{r=!1,w()}),e.closeOnContentClick){const V=ot(Cn,null);c.onClick=()=>{t.value=!1,V==null||V.closeParents()}}return c}),_=b(()=>{const c={};return e.openOnHover&&(c.onMouseenter=()=>{m&&(i=!0,m=!1,g())},c.onMouseleave=()=>{i=!1,w()}),c});I(o,c=>{c&&(e.openOnHover&&!i&&(!f.value||!r)||f.value&&!r&&(!e.openOnHover||!i))&&(t.value=!1)}),I(t,c=>{c||setTimeout(()=>{x.value=void 0})},{flush:"post"});const y=F();Ve(()=>{y.value&&Te(()=>{a.value=$e(y.value)})});const k=F(),T=b(()=>e.target==="cursor"&&x.value?x.value:k.value?$e(k.value):ut(e.target,l)||a.value),B=b(()=>Array.isArray(T.value)?void 0:T.value);let C;return I(()=>!!e.activator,c=>{c&&K?(C=nt(),C.run(()=>{Vn(e,l,{activatorEl:a,activatorEvents:s})})):C&&C.stop()},{flush:"post",immediate:!0}),j(()=>{C==null||C.stop()}),{activatorEl:a,activatorRef:y,target:T,targetEl:B,targetRef:k,activatorEvents:s,contentEvents:v,scrimEvents:_}}function Vn(e,n,t){let{activatorEl:o,activatorEvents:l}=t;I(()=>e.activator,(m,f)=>{if(f&&m!==f){const h=r(f);h&&i(h)}m&&Te(()=>a())},{immediate:!0}),I(()=>e.activatorProps,()=>{a()}),j(()=>{i()});function a(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;m&&an(m,R(l.value,f))}function i(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:r(),f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.activatorProps;m&&ln(m,R(l.value,f))}function r(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.activator;const f=ut(m,n);return o.value=(f==null?void 0:f.nodeType)===Node.ELEMENT_NODE?f:void 0,o.value}}function ut(e,n){var o,l;if(!e)return;let t;if(e==="parent"){let a=(l=(o=n==null?void 0:n.proxy)==null?void 0:o.$el)==null?void 0:l.parentNode;for(;a!=null&&a.hasAttribute("data-no-activator");)a=a.parentNode;t=a}else typeof e=="string"?t=document.querySelector(e):"$el"in e?t=e.$el:t=e;return t}function Bn(){if(!K)return X(!1);const{ssr:e}=me();if(e){const n=X(!1);return Mt(()=>{n.value=!0}),n}else return X(!0)}const Mn=U({eager:Boolean},"lazy");function Rn(e,n){const t=X(!1),o=b(()=>t.value||e.eager||n.value);I(n,()=>t.value=!0);function l(){e.eager||(t.value=!1)}return{isBooted:t,hasContent:o,onAfterLeave:l}}function ft(){const n=Be("useScopeId").vnode.scopeId;return{scopeId:n?{[n]:""}:void 0}}const Ue=Symbol.for("vuetify:stack"),te=at([]);function Fn(e,n,t){const o=Be("useStack"),l=!t,a=ot(Ue,void 0),i=at({activeChildren:new Set});Rt(Ue,i);const r=X(+n.value);Le(e,()=>{var g;const h=(g=te.at(-1))==null?void 0:g[1];r.value=h?h+10:+n.value,l&&te.push([o.uid,r.value]),a==null||a.activeChildren.add(o.uid),j(()=>{if(l){const w=Ft(te).findIndex(x=>x[0]===o.uid);te.splice(w,1)}a==null||a.activeChildren.delete(o.uid)})});const m=X(!0);l&&Ve(()=>{var g;const h=((g=te.at(-1))==null?void 0:g[0])===o.uid;setTimeout(()=>m.value=h)});const f=b(()=>!i.activeChildren.size);return{globalTop:It(m),localTop:f,stackStyles:b(()=>({zIndex:r.value}))}}function In(e){return{teleportTarget:b(()=>{const t=e.value;if(t===!0||!K)return;const o=t===!1?document.body:typeof t=="string"?document.querySelector(t):t;if(o==null)return;let l=o.querySelector(":scope > .v-overlay-container");return l||(l=document.createElement("div"),l.className="v-overlay-container",o.appendChild(l)),l})}}function Nn(){return!0}function dt(e,n,t){if(!e||vt(e,t)===!1)return!1;const o=rt(n);if(typeof ShadowRoot<"u"&&o instanceof ShadowRoot&&o.host===e.target)return!1;const l=(typeof t.value=="object"&&t.value.include||(()=>[]))();return l.push(n),!l.some(a=>a==null?void 0:a.contains(e.target))}function vt(e,n){return(typeof n.value=="object"&&n.value.closeConditional||Nn)(e)}function Hn(e,n,t){const o=typeof t.value=="function"?t.value:t.value.handler;n._clickOutside.lastMousedownWasOutside&&dt(e,n,t)&&setTimeout(()=>{vt(e,t)&&o&&o(e)},0)}function Ye(e,n){const t=rt(e);n(document),typeof ShadowRoot<"u"&&t instanceof ShadowRoot&&n(t)}const $n={mounted(e,n){const t=l=>Hn(l,e,n),o=l=>{e._clickOutside.lastMousedownWasOutside=dt(l,e,n)};Ye(e,l=>{l.addEventListener("click",t,!0),l.addEventListener("mousedown",o,!0)}),e._clickOutside||(e._clickOutside={lastMousedownWasOutside:!1}),e._clickOutside[n.instance.$.uid]={onClick:t,onMousedown:o}},unmounted(e,n){e._clickOutside&&(Ye(e,t=>{var a;if(!t||!((a=e._clickOutside)!=null&&a[n.instance.$.uid]))return;const{onClick:o,onMousedown:l}=e._clickOutside[n.instance.$.uid];t.removeEventListener("click",o,!0),t.removeEventListener("mousedown",l,!0)}),delete e._clickOutside[n.instance.$.uid])}};function Dn(e){const{modelValue:n,color:t,...o}=e;return u(zt,{name:"fade-transition",appear:!0},{default:()=>[e.modelValue&&u("div",R({class:["v-overlay__scrim",e.color.backgroundColorClasses.value],style:e.color.backgroundColorStyles.value},o),null)]})}const mt=U({absolute:Boolean,attach:[Boolean,String,Object],closeOnBack:{type:Boolean,default:!0},contained:Boolean,contentClass:null,contentProps:null,disabled:Boolean,opacity:[Number,String],noClickAnimation:Boolean,modelValue:Boolean,persistent:Boolean,scrim:{type:[Boolean,String],default:!0},zIndex:{type:[Number,String],default:2e3},...Ln(),...Ke(),...wt(),...Mn(),...yn(),...Sn(),...Qe(),...St()},"VOverlay"),Ge=Pe()({name:"VOverlay",directives:{ClickOutside:$n},inheritAttrs:!1,props:{_disableGlobalStack:Boolean,...mt()},emits:{"click:outside":e=>!0,"update:modelValue":e=>!0,afterLeave:()=>!0},setup(e,n){let{slots:t,attrs:o,emit:l}=n;const a=Ae(e,"modelValue"),i=b({get:()=>a.value,set:P=>{P&&e.disabled||(a.value=P)}}),{teleportTarget:r}=In(b(()=>e.attach||e.contained)),{themeClasses:m}=et(e),{rtlClasses:f,isRtl:h}=Nt(),{hasContent:g,onAfterLeave:w}=Rn(e,i),x=pt(b(()=>typeof e.scrim=="string"?e.scrim:null)),{globalTop:d,localTop:s,stackStyles:v}=Fn(i,Ht(e,"zIndex"),e._disableGlobalStack),{activatorEl:_,activatorRef:y,target:k,targetEl:T,targetRef:B,activatorEvents:C,contentEvents:c,scrimEvents:V}=Tn(e,{isActive:i,isTop:s}),{dimensionStyles:Z}=kt(e),ge=Bn(),{scopeId:L}=ft();I(()=>e.disabled,P=>{P&&(i.value=!1)});const O=F(),S=F(),p=F(),{contentStyles:H,updateLocation:N}=hn(e,{isRtl:h,contentEl:p,target:k,isActive:i});pn(e,{root:O,contentEl:p,targetEl:T,isActive:i,updateLocation:N});function Q(P){l("click:outside",P),e.persistent?re():i.value=!1}function M(P){return i.value&&d.value&&(!e.scrim||P.target===S.value)}K&&I(i,P=>{P?window.addEventListener("keydown",$):window.removeEventListener("keydown",$)},{immediate:!0}),$t(()=>{K&&window.removeEventListener("keydown",$)});function $(P){var q,Re;P.key==="Escape"&&d.value&&(e.persistent?re():(i.value=!1,(q=p.value)!=null&&q.contains(document.activeElement)&&((Re=_.value)==null||Re.focus())))}const ie=Et();Le(()=>e.closeOnBack,()=>{Ct(ie,P=>{d.value&&i.value?(P(!1),e.persistent?re():i.value=!1):P()})});const Y=F();I(()=>i.value&&(e.absolute||e.contained)&&r.value==null,P=>{if(P){const q=rn(O.value);q&&q!==document.scrollingElement&&(Y.value=q.scrollTop)}});function re(){e.noClickAnimation||p.value&&Qt(p.value,[{transformOrigin:"center"},{transform:"scale(1.03)"},{transformOrigin:"center"}],{duration:150,easing:en})}function gt(){w(),l("afterLeave")}return Ce(()=>{var P;return u(ae,null,[(P=t.activator)==null?void 0:P.call(t,{isActive:i.value,props:R({ref:y,targetRef:B},C.value,e.activatorProps)}),ge.value&&g.value&&u(Dt,{disabled:!r.value,to:r.value},{default:()=>[u("div",R({class:["v-overlay",{"v-overlay--absolute":e.absolute||e.contained,"v-overlay--active":i.value,"v-overlay--contained":e.contained},m.value,f.value,e.class],style:[v.value,{"--v-overlay-opacity":e.opacity,top:W(Y.value)},e.style],ref:O},L,o),[u(Dn,R({color:x,modelValue:i.value&&!!e.scrim,ref:S},V.value),null),u(Ot,{appear:!0,persisted:!0,transition:e.transition,target:k.value,onAfterLeave:gt},{default:()=>{var q;return[lt(u("div",R({ref:p,class:["v-overlay__content",e.contentClass],style:[Z.value,H.value]},c.value,e.contentProps),[(q=t.default)==null?void 0:q.call(t,{isActive:i})]),[[it,i.value],[Wt("click-outside"),{handler:Q,closeConditional:M,include:()=>[_.value]}]])]}})])]})])}),{activatorEl:_,scrimEl:S,target:k,animateClick:re,contentEl:p,globalTop:d,localTop:s,updateLocation:N}}}),Wn=U({id:String,text:String,...qt(mt({closeOnBack:!1,location:"end",locationStrategy:"connected",eager:!0,minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent"])},"VTooltip"),Se=Pe()({name:"VTooltip",props:Wn(),emits:{"update:modelValue":e=>!0},setup(e,n){let{slots:t}=n;const o=Ae(e,"modelValue"),{scopeId:l}=ft(),a=tt(),i=b(()=>e.id||`v-tooltip-${a}`),r=F(),m=b(()=>e.location.split(" ").length>1?e.location:e.location+" center"),f=b(()=>e.origin==="auto"||e.origin==="overlap"||e.origin.split(" ").length>1||e.location.split(" ").length>1?e.origin:e.origin+" center"),h=b(()=>e.transition?e.transition:o.value?"scale-transition":"fade-transition"),g=b(()=>R({"aria-describedby":i.value},e.activatorProps));return Ce(()=>{const w=Ge.filterProps(e);return u(Ge,R({ref:r,class:["v-tooltip",e.class],style:e.style,id:i.value},w,{modelValue:o.value,"onUpdate:modelValue":x=>o.value=x,transition:h.value,absolute:!0,location:m.value,origin:f.value,persistent:!0,role:"tooltip",activatorProps:g.value,_disableGlobalStack:!0},l),{activator:t.activator,default:function(){var v;for(var x=arguments.length,d=new Array(x),s=0;s<x;s++)d[s]=arguments[s];return((v=t.default)==null?void 0:v.call(t,...d))??e.text}})}),tn({},r)}}),zn={class:"title px-3 pt-3 ma-0"},qn={class:"body-1 px-3 pt-3 ma-0"},jn={class:"d-flex px-3 py-3 ma-0"},Un=z("span",null,"Copy link to clipboard",-1),Yn={__name:"LocationText",props:["location"],setup(e){const n=e,t=b(()=>n.location),o=F(me());return(l,a)=>(D(),oe(ne,{dark:""},{default:E(()=>[z("p",zn,J(A(t).title),1),z("p",qn,J(A(t).description),1),z("div",jn,[u(Se,{bottom:""},{activator:E(({on:i})=>[A(o).xlAndUp?lt((D(),oe(le,R({key:0},fe(i),{href:"https://www.google.com/maps/search/?api=1&query="+A(t).title,height:"36px",class:"mr-2 pa-1",color:"success",target:"_blank"}),{default:E(()=>[G(" Open in maps "),u(ue,{class:"pa-0"},{default:E(()=>[G("mdi-google-maps")]),_:1})]),_:2},1040,["href"])),[[it,!A(o).smAndDown]]):ke("",!0)]),default:E(()=>[z("span",null,"Open "+J(A(t).title)+" in google maps",1)]),_:1}),A(t).googlealbum?(D(),oe(Se,{key:0,bottom:""},{activator:E(({on:i})=>[u(le,R(fe(i),{height:"36px",class:"mr-2 pa-1",color:"warning",href:A(t).googlealbum,target:"_blank"}),{default:E(()=>[G(" Show album "),u(ue,{class:"pa-0"},{default:E(()=>[G("mdi-google-photos")]),_:1})]),_:2},1040,["href"])]),default:E(()=>[z("span",null,"Open album of trip to "+J(A(t).name)+" in google photos",1)]),_:1})):ke("",!0),u(Se,{right:""},{activator:E(({on:i})=>[]),default:E(()=>[Un]),_:1})])]),_:1}))}},Gn=Yn,Xn={key:0,class:"pa-0 align-center pb-3 d-flex"},Kn=["src"],Zn=z("h1",null,"History",-1),vo={__name:"[location]",async setup(e){let n,t;const o=jt(),l=Ut(),a=b(()=>l.byName(o.params.location)),i=Yt(),{data:r}=([n,t]=Gt(()=>Xt(()=>`/api/locations/${a.value._id}/photos`,"$3huIvaaVbS")),n=await n,t(),n),m=b(()=>i.byIds(r.value)),f=F(me()),h=b(()=>{const g=new Set;return m.value.forEach(w=>{const x=w.date.split("T")[0];g.add(x)}),Array.from(g).map(w=>new Date(w)).sort((w,x)=>x.getTime()-w.getTime())});return(g,w)=>{const x=mn,d=Kt,s=Gn;return D(),ee("div",null,[u(on,null,{default:E(()=>[A(f).xlAndUp?ke("",!0):(D(),ee("div",Xn,[u(le,R({height:"48px",class:"pa-0",to:g.localePath("/locations/")},fe(g.on)),{default:E(()=>[u(ue,{class:"pa-0"},{default:E(()=>[G("mdi-arrow-left")]),_:1})]),_:1},16,["to"]),u(ye,{class:"pa-0 ma-0"},{default:E(()=>[u(x,{location:A(a),style:{height:"48px"}},null,8,["location"])]),_:1}),u(le,R(fe(g.on),{onClick:w[0]||(w[0]=v=>g.openInMaps()),height:"48px",class:"pa-0",color:"primary"}),{default:E(()=>[u(ue,{class:"pa-0"},{default:E(()=>[G("mdi-google-maps")]),_:1})]),_:1},16)])),u(Xe,{ref:"sidebar"},{default:E(()=>[u(ye,{xl:"8",order:"2","order-xl":"1"},{default:E(()=>[z("div",null,[u(ne,{dark:"",class:"pa-2"},{default:E(()=>[u(d,{photos:A(m),cols:A(f).xlAndUp?4:3},null,8,["photos","cols"])]),_:1})])]),_:1}),u(ye,{cols:"12",xl:"4",order:"1","order-xl":"2"},{default:E(()=>[u(s,{location:A(a)},null,8,["location"]),(D(!0),ee(ae,null,De(A(a).youtube,v=>(D(),oe(ne,{dark:"",class:"my-4",key:v},{default:E(()=>[u(Pt,{"aspect-ratio":16/9,class:"pa-2"},{default:E(()=>[z("iframe",{width:"100%",height:"100%",src:v,frameborder:"0",allow:"",allowfullscreen:""},null,8,Kn)]),_:2},1024)]),_:2},1024))),128)),u(ne,null,{default:E(()=>[Zn,(D(!0),ee(ae,null,De(A(h),v=>(D(),ee("p",{key:v},J(("dateToString"in g?g.dateToString:A(nn))(v)),1))),128))]),_:1})]),_:1})]),_:1},512)]),_:1})])}}};export{vo as default};
